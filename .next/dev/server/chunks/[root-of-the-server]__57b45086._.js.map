{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ishaa/OneDrive/Documents/Coding/Programs/Web%20Devlopement/Bitlinks/Bitlinks%20github/lib/mongodb.js"],"sourcesContent":["import { MongoClient } from \"mongodb\";\r\n\r\nconst uri = process.env.MONGODB_URI;\r\nif (!uri) {\r\n  throw new Error(\"‚ùå MONGODB_URI is not defined in environment variables\");\r\n}\r\n\r\nlet client;\r\nlet clientPromise;\r\n\r\nif (process.env.NODE_ENV === \"development\") {\r\n  if (!global._mongoClientPromise) {\r\n    client = new MongoClient(uri);\r\n    global._mongoClientPromise = client.connect();\r\n  }\r\n  clientPromise = global._mongoClientPromise;\r\n} else {\r\n  // ‚úÖ Cache DB connection for production too\r\n  if (!global._mongoClientPromise) {\r\n    client = new MongoClient(uri);\r\n    global._mongoClientPromise = client.connect();\r\n  }\r\n  clientPromise = global._mongoClientPromise;\r\n}\r\n\r\nexport default clientPromise;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,MAAM,QAAQ,GAAG,CAAC,WAAW;AACnC,IAAI,CAAC,KAAK;IACR,MAAM,IAAI,MAAM;AAClB;AAEA,IAAI;AACJ,IAAI;AAEJ,wCAA4C;IAC1C,IAAI,CAAC,yDAAO,mBAAmB,EAAE;QAC/B,SAAS,IAAI,sHAAW,CAAC;QACzB,yDAAO,mBAAmB,GAAG,OAAO,OAAO;IAC7C;IACA,gBAAgB,yDAAO,mBAAmB;AAC5C;;uCASe","debugId":null}},
    {"offset": {"line": 77, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ishaa/OneDrive/Documents/Coding/Programs/Web%20Devlopement/Bitlinks/Bitlinks%20github/app/api/generate/route.js"],"sourcesContent":["import clientPromise from \"@/lib/mongodb\";\r\nimport { NextResponse } from \"next/server\";\r\n\r\nexport async function POST(request) {\r\n  try {\r\n    console.log(\"üî• API HIT\");\r\n\r\n    const body = await request.json();\r\n    console.log(\"üì© Body:\", body);\r\n\r\n    const client = await clientPromise;\r\n    console.log(\"‚úÖ Connected to MongoDB\");\r\n\r\n    const db = client.db(\"bitlinks\");\r\n    const collection = db.collection(\"url\");\r\n\r\n    const exists = await collection.findOne({ shortcut: body.shortcut });\r\n    console.log(\"üîç Exists:\", exists);\r\n\r\n    if (exists) {\r\n      return NextResponse.json({ message: \"Shortcut exists\", success: false }, { status: 400 });\r\n    }\r\n\r\n    await collection.insertOne({\r\n      url: body.url,\r\n      shortcut: body.shortcut,\r\n    });\r\n\r\n    console.log(\"‚úÖ Inserted\");\r\n\r\n    return NextResponse.json({ message: \"Done\", success: true });\r\n  } catch (err) {\r\n    console.error(\"‚ùå SERVER ERROR:\", err);\r\n    return NextResponse.json({ message: \"Internal server error\", success: false }, { status: 500 });\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,KAAK,OAAO;IAChC,IAAI;QACF,QAAQ,GAAG,CAAC;QAEZ,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,QAAQ,GAAG,CAAC,YAAY;QAExB,MAAM,SAAS,MAAM,2HAAa;QAClC,QAAQ,GAAG,CAAC;QAEZ,MAAM,KAAK,OAAO,EAAE,CAAC;QACrB,MAAM,aAAa,GAAG,UAAU,CAAC;QAEjC,MAAM,SAAS,MAAM,WAAW,OAAO,CAAC;YAAE,UAAU,KAAK,QAAQ;QAAC;QAClE,QAAQ,GAAG,CAAC,cAAc;QAE1B,IAAI,QAAQ;YACV,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,SAAS;gBAAmB,SAAS;YAAM,GAAG;gBAAE,QAAQ;YAAI;QACzF;QAEA,MAAM,WAAW,SAAS,CAAC;YACzB,KAAK,KAAK,GAAG;YACb,UAAU,KAAK,QAAQ;QACzB;QAEA,QAAQ,GAAG,CAAC;QAEZ,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAQ,SAAS;QAAK;IAC5D,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,mBAAmB;QACjC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAyB,SAAS;QAAM,GAAG;YAAE,QAAQ;QAAI;IAC/F;AACF","debugId":null}}]
}